---
// @ts-ignore
import { Icon } from "astro-icon";
import Link from "@components/ui/link.astro";
import { Picture } from "@astrojs/image/components";
import Test from '../assets/previous-works/cobra/test.webp';
import Hero from '../assets/previous-works/cobra/hero.webp';
import Logo from '../assets/previous-works/cobra/logolrg.webp';
import LogoSet from '../assets/previous-works/cobra/logo.webp';
import Icons from '../assets/previous-works/cobra/icons.webp';


const services = [
  {
    imgsrc: Icons,
    imgalt: "Advertising with Google for free through organic SEO improvements.",
  },
  {
    imgsrc: Logo,
    imgalt: "Advertising with Google for free through organic SEO improvements.",
  },
  {
    imgsrc: Hero,
    imgalt: "Advertising with Google for free through organic SEO improvements.",
  },
  {
    imgsrc: Test,
    imgalt: "Advertising with Google for free through organic SEO improvements.",
  },
  {
    imgsrc: LogoSet,
    imgalt: "Advertising with Google for free through organic SEO improvements.",
  },
];
---

<!-- Flickity -->
<!-- CSS -->
<link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>

<!-- Flickity Custom Styles -->
<style>

.carousel-cell {
    margin-right: 10px;
    margin-bottom: 20px;
    height: 460px;
    border-radius: 15px;
  }
  @media only screen and (max-width: 1680px) {
  .carousel-cell {
    height: 360px;
  }
}
@media only screen and (max-width: 1199px) {
  .carousel-cell {
    height: 260px;
  }
}
@media only screen and (max-width: 768px) {
  .carousel-cell {
    height: 240px;
  }
}
@media only screen and (max-width: 496px) {
  .carousel-cell {
    height: 200px;
  }
}
@media only screen and (max-width: 396px) {
  .carousel-cell {
    height: 160px;
  }
}

  /* Start Flickity viewport safeguards V4 */
  main { max-width: 100%; }
  .flickity-viewport { margin: 0 auto; }
  .cobra-carousel, .flickity-viewport { max-width: 100vw !important; }
  .cobra-carousel { height: fit-content; }
  /* End Flickity viewport safeguards V4 */

  /* Glass-card effect dial in, minimal */
  #glass-card {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(30px);
    border: 2px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    transition-duration: 200ms;
  }
  #glass-card:hover {
    box-shadow: 0 15px 20px #00000010, 0 15px 20px #00000010;
  }

  #works-row { border: black; border-top: ridge; }

  </style>

<main id="works-row" class="mt-12 md:mt-24 pb-8">
  <div class="pt-2 flex flex-col sm:flex-row items-start sm:items-center justify-between">
    <div>
      <h5 class="text-xs md:text-sm lg:text-md my-4 text-slate-700">
        Brand Strategy
      </h5>
      <h4 class="text-2xl md:text-3xl lg:text-5xl font-bold lg:tracking-tight">
        Cobra Car Club of QLD.
      </h4>
    </div>
    <div>
      <Link 
        class="text-xs md:text-sm"
        href="/brand-strategy"
        style="outline">
        Brand Strategy
      </Link>
    </div>
  </div>

<div id="sliderContainer" class="cobra-carousel">
  {
    services.map((item) => (
      <div class="carousel-cell flex flex-row justify-start items-center w-2/3 sm:w-1/2 md:w-2/5 xl:w-1/3">
        <Picture
              src={item.imgsrc}
              sizes="(max-width: 1680px) 1680px, 1260px, 840px"
              widths={[840, 1260, 1680]}
              aspectRatio="5:3"
              loading="eager"
              background="#f2f2f200"
              fit="cover"
              position="center"
              class="w-full h-full rounded-md"
            />
      </div>
    ))
  }
</div>
</main>

<script>
  // element argument can be a selector string
  //   for an individual element
  var flkty = new Flickity( '.cobra-carousel', {
  cellAlign: 'left',
  contain: true,
  freeScroll: true,
  prevNextButtons: false,
  pageDots: true
  // lower attraction and lower friction
  // slower transitions
  // easier to flick past cells
  });
</script>

